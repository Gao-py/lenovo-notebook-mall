<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>联想笔记本商城</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1>联想笔记本商城</h1>
            <nav>
                <a href="index.html">首页</a>
                <a href="ai-assistant.html">AI助手</a>
                <a href="promotions.html" id="navPromotions">促销活动</a>
                <a href="cart.html">购物车</a>
                <a href="orders.html" id="navOrders">我的订单</a>
                <a href="chat.html">在线客服</a>
                <a href="admin.html" id="navAdmin">管理后台</a>
                <div id="userNav"></div>
            </nav>
        </div>
    </header>

    <div class="auth-modal" id="authModal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="loginForm">
                <h2>登录</h2>
                <input type="text" id="loginUsername" placeholder="用户名">
                <input type="password" id="loginPassword" placeholder="密码">
                <div class="captcha-box">
                    <input type="text" id="loginCaptcha" placeholder="验证码" style="width: 60%;">
                    <img id="loginCaptchaImg" src="" alt="验证码" onclick="refreshLoginCaptcha()" style="width: 35%; height: 40px; cursor: pointer; border-radius: 5px;">
                </div>
                <button onclick="login()">登录</button>
                <p>还没有账号? <a href="#" onclick="showRegister()">立即注册</a></p>
                <p><a href="#" onclick="showResetPassword()">忘记密码?</a></p>
            </div>
            <div id="registerForm" class="hidden">
                <h2>注册</h2>
                <input type="text" id="regUsername" placeholder="用户名">
                <input type="password" id="regPassword" placeholder="密码">
                <input type="email" id="regEmail" placeholder="邮箱">
                <div class="captcha-box" style="display: flex; gap: 10px;">
                    <input type="text" id="regCode" placeholder="邮箱验证码" style="flex: 1;">
                    <button type="button" id="sendCodeBtn" onclick="sendVerificationCode()" style="width: auto; padding: 12px 20px;">发送验证码</button>
                </div>
                <input type="text" id="regPhone" placeholder="手机号（可选）">
                <div class="captcha-box">
                    <input type="text" id="regCaptcha" placeholder="图形验证码" style="width: 60%;">
                    <img id="regCaptchaImg" src="" alt="验证码" onclick="refreshRegCaptcha()" style="width: 35%; height: 40px; cursor: pointer; border-radius: 5px;">
                </div>
                <button onclick="register()">注册</button>
                <p>已有账号? <a href="#" onclick="showLogin()">立即登录</a></p>
            </div>
            <div id="resetForm" class="hidden">
                <h2>找回密码</h2>
                <input type="email" id="resetEmail" placeholder="注册邮箱">
                <input type="password" id="newPassword" placeholder="新密码">
                <button onclick="resetPassword()">重置密码</button>
                <p><a href="#" onclick="showLogin()">返回登录</a></p>
            </div>
        </div>
    </div>

    <div class="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                <img src="images/carousel/thinkpad-banner.jpg" alt="ThinkPad 系列" style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0;">
                <div class="carousel-content">
                    <h2>ThinkPad 系列</h2>
                    <p>商务精英的首选，稳定可靠</p>
                    <button class="carousel-btn" onclick="filterByCategory('ThinkPad')">立即选购</button>
                </div>
            </div>
            <div class="carousel-item" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                <img src="images/carousel/yoga-banner.jpg" alt="YOGA 系列" style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0;">
                <div class="carousel-content">
                    <h2>YOGA 系列</h2>
                    <p>灵活多变，创意无限</p>
                    <button class="carousel-btn" onclick="filterByCategory('YOGA')">立即选购</button>
                </div>
            </div>
            <div class="carousel-item" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                <img src="images/carousel/legion-banner.jpg" alt="拯救者系列" style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0;">
                <div class="carousel-content">
                    <h2>拯救者系列</h2>
                    <p>游戏利器，性能强劲</p>
                    <button class="carousel-btn" onclick="filterByCategory('拯救者')">立即选购</button>
                </div>
            </div>
            <div class="carousel-item" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                <img src="images/carousel/xiaoxin-banner.jpg" alt="小新系列" style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0;">
                <div class="carousel-content">
                    <h2>小新系列</h2>
                    <p>性能出色，轻薄便捷</p>
                    <button class="carousel-btn" onclick="filterByCategory('小新')">立即选购</button>
                </div>
            </div>
        </div>
        <button class="carousel-arrow prev" onclick="prevSlide()">‹</button>
        <button class="carousel-arrow next" onclick="nextSlide()">›</button>
        <div class="carousel-controls">
            <span class="carousel-dot active" onclick="goToSlide(0)"></span>
            <span class="carousel-dot" onclick="goToSlide(1)"></span>
            <span class="carousel-dot" onclick="goToSlide(2)"></span>
            <span class="carousel-dot" onclick="goToSlide(3)"></span>
        </div>
    </div>

        <div class="category-filter">
            <span>分类筛选:</span>
            <button class="category-btn active" onclick="filterByCategory('all')">全部</button>
            <button class="category-btn" onclick="filterByCategory('ThinkPad')">ThinkPad</button>
            <button class="category-btn" onclick="filterByCategory('YOGA')">YOGA</button>
            <button class="category-btn" onclick="filterByCategory('拯救者')">拯救者</button>
            <button class="category-btn" onclick="filterByCategory('小新')">小新</button>
        </div>

        <div class="search-bar">
            <input type="text" id="searchModel" placeholder="搜索型号或名称">
            <button onclick="searchProducts()">搜索</button>
            <input type="number" id="minPrice" placeholder="最低价格">
            <input type="number" id="maxPrice" placeholder="最高价格">
            <select id="sortBy" style="padding: 12px 16px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 14px;">
                <option value="">默认排序</option>
                <option value="price_asc">价格从低到高</option>
                <option value="price_desc">价格从高到低</option>
                <option value="sales_desc">销量从高到低</option>
                <option value="name_asc">名称A-Z</option>
            </select>
            <button onclick="applyFilters()">应用筛选</button>
        </div>

        <div class="product-list" id="productList"></div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 联想笔记本商城. All rights reserved.</p>
    </footer>

    <script src="js/common.js"></script>
    <script src="js/index.js"></script>
</body>
</html>